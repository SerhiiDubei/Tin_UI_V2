# ğŸ”¥ Tinder AI Feedback Platform

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Node](https://img.shields.io/badge/node-%3E%3D18.0.0-brightgreen)
![React](https://img.shields.io/badge/react-18.2.0-blue)

**AI Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğ°, Ñ‰Ğ¾ Ğ³ĞµĞ½ĞµÑ€ÑƒÑ” Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»Ñ–Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ñ– Ğ²Ğ°ÑˆĞ¸Ñ… Ğ²Ğ¿Ğ¾Ğ´Ğ¾Ğ±Ğ°Ğ½ÑŒ Ñ‡ĞµÑ€ĞµĞ· Tinder-style swipe Ñ–Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ.**

---

## âœ¨ ĞšĞ»ÑÑ‡Ğ¾Ğ²Ñ– ĞœĞ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚Ñ–

### ğŸ¨ AI Content Generation
- **Seedream 4.0 Integration** - Ğ ĞµĞ°Ğ»Ñ–ÑÑ‚Ğ¸Ñ‡Ğ½Ñ– smartphone Ñ„Ğ¾Ñ‚Ğ¾ Ğ· 11-Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²Ğ¾Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¾Ñ
- **Smart Prompting** - GPT-4o Ğ¿Ğ¾ĞºÑ€Ğ°Ñ‰ÑƒÑ” Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚Ğ¸ Ğ· Ğ²Ñ€Ğ°Ñ…ÑƒĞ²Ğ°Ğ½Ğ½ÑĞ¼ insights
- **Authentic Imperfections** - Motion blur, lens flare, tilted horizon Ğ´Ğ»Ñ Ñ€ĞµĞ°Ğ»Ñ–Ğ·Ğ¼Ñƒ
- **Era Consistency** - ĞŸÑ–Ğ´Ñ‚Ñ€Ğ¸Ğ¼ĞºĞ° 2010-2024 (iPhone 4S â†’ iPhone 14 Pro)
- **Batch Generation** - Ğ”Ğ¾ 10 ÑƒĞ½Ñ–ĞºĞ°Ğ»ÑŒĞ½Ğ¸Ñ… Ğ²Ğ°Ñ€Ñ–Ğ°Ñ†Ñ–Ğ¹ Ğ¾Ğ´Ğ½Ğ¾Ñ‡Ğ°ÑĞ½Ğ¾

### ğŸ‘† Tinder-Style Interface
- **â† Left** - Dislike (Ğ· Ğ¾Ğ¿Ñ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¼ ĞºĞ¾Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€ĞµĞ¼)
- **â†’ Right** - Like
- **â†‘ Up** - Superlike
- **â†“ Down** - Skip (Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ¾Ñ†Ñ–Ğ½Ğ¸Ñ‚Ğ¸ Ğ¿Ñ–Ğ·Ğ½Ñ–ÑˆĞµ)

### ğŸ§  Intelligent Learning
- **User Insights** - OpenAI Ğ°Ğ½Ğ°Ğ»Ñ–Ğ·ÑƒÑ” ĞºĞ¾Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ñ– Ñ‚Ğ° Ğ²Ğ¸Ñ‚ÑĞ³ÑƒÑ” preferences
- **Automated Updates** - Insights Ğ¾Ğ½Ğ¾Ğ²Ğ»ÑÑÑ‚ÑŒÑÑ ĞºĞ¾Ğ¶Ğ½Ñ– 10 ratings
- **Personalization** - ĞšĞ¾Ğ¶Ğ½Ğ° Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ñ–Ñ Ğ²Ñ€Ğ°Ñ…Ğ¾Ğ²ÑƒÑ” Ğ²Ğ°ÑˆÑ– Ğ²Ğ¿Ğ¾Ğ´Ğ¾Ğ±Ğ°Ğ½Ğ½Ñ
- **Category Detection** - ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğµ Ğ²Ğ¸Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ dating/nature/architecture

### ğŸ“Š Analytics Dashboard
- **Real-time Stats** - Likes, dislikes, like rate
- **Top Content** - ĞĞ°Ğ¹ĞºÑ€Ğ°Ñ‰Ğ¸Ğ¹ Ğ·Ğ³ĞµĞ½ĞµÑ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚
- **Insights Visualization** - Ğ’Ğ°ÑˆÑ– Ğ¿ĞµÑ€ĞµĞ²Ğ°Ğ³Ğ¸ Ğ² structured Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ñ–

---

## ğŸš€ Quick Start

### Prerequisites

- Node.js 18+
- Supabase Account
- Replicate API Key
- OpenAI API Key

### Installation

```bash
# 1. Clone repository
git clone https://github.com/SerhiiDubei/Tin_UI_V2.git
cd Tin_UI_V2

# 2. Interactive setup
npm install
node scripts/setup.js

# 3. Setup database
# - Go to Supabase Dashboard â†’ SQL Editor
# - Run database/migrations/*.sql files

# 4. Create Storage Bucket
# - Supabase â†’ Storage â†’ New Bucket
# - Name: generated-content
# - Public: YES

# 5. Install dependencies & run
npm run install:all
npm run dev
```

**URLs:**
- Frontend: http://localhost:3000
- Backend API: http://localhost:5000

---

## ğŸ› ï¸ Tech Stack

### Frontend
- React 18.2.0
- React Router DOM 6
- Axios
- CSS3

### Backend
- Node.js 18+
- Express 4.21
- Supabase PostgreSQL
- OpenAI GPT-4o / GPT-4o-mini
- Replicate API (ByteDance Seedream-4)

### AI Integration
- **Seedream 4.0** - 11-parameter smartphone photo system
- **OpenAI GPT-4o** - Prompt enhancement (800 tokens)
- **OpenAI GPT-4o-mini** - Category detection, comment analysis
- **Replicate** - Image generation

---

## ğŸ“ Project Structure

```
Tin_UI_V2/
â”œâ”€â”€ frontend/                 # React App
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ components/       # UI Components
â”‚       â”œâ”€â”€ pages/            # Pages
â”‚       â””â”€â”€ services/         # API Client
â”‚
â”œâ”€â”€ backend/                  # Express API
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ services/
â”‚       â”‚   â”œâ”€â”€ openai.service.js      # ğŸ†• Seedream 4.0
â”‚       â”‚   â”œâ”€â”€ replicate.service.js
â”‚       â”‚   â””â”€â”€ insights.service.js
â”‚       â””â”€â”€ routes/
â”‚
â”œâ”€â”€ database/                 # Database Schema
â”‚   â””â”€â”€ migrations/
â”‚
â””â”€â”€ docs/                     # Documentation
    â”œâ”€â”€ ARCHITECTURE.md       # ğŸ“Š ER + IR Diagrams
    â””â”€â”€ SEEDREAM.md          # ğŸ“± Seedream 4.0 Guide
```

---

## ğŸ—„ï¸ Database Schema

### 5 Core Tables:

```
users â†â”€ content â†â”€ ratings
         â†“
    user_insights

prompt_templates â”€â†’ content
```

1. **users** - User accounts (auth)
2. **prompt_templates** - AI templates with insights
3. **content** - Generated content (images/video)
4. **ratings** - User feedback (swipes + comments)
5. **user_insights** - Learned preferences

**Details:** See [ARCHITECTURE.md](./docs/ARCHITECTURE.md)

---

## ğŸ¯ How It Works

### 1. Content Generation Flow

```
User Prompt
    â†“
Detect Category (GPT-4o-mini)
    â†“
Fetch User Insights (from ratings + comments)
    â†“
Enhance Prompt (GPT-4o + Seedream 4.0)
    â†“
Generate Image (Replicate Seedream-4)
    â†“
Save to Database & Storage
    â†“
Return URL
```

### 2. Learning Flow

```
User Swipes (left/right/up/down)
    â†“
Save Rating (+ optional comment)
    â†“
Every 10 Ratings:
    â†“
Analyze Comments (GPT-4o-mini)
    â†“
Extract Keywords (likes/dislikes)
    â†“
Update user_insights
    â†“
Next Generation Uses Insights
```

---

## ğŸ“± Seedream 4.0 System

### 11-Parameter Modular System

**TIER 1 - MANDATORY:**
1. SMARTPHONE_PHOTO_STYLE (filename, device, era)
2. SUBJECT (person description)

**TIER 2 - SITUATIONAL (3-4):**
3. COMPOSITION (framing, angles)
4. BACKGROUND (setting)
5. LIGHTING (source, direction)

**TIER 3 - ENHANCEMENT (1-2):**
6. COLOR_PALETTE
7. MOOD_ATMOSPHERE
8. MOTION_DYNAMICS
9. DEPTH_FOCUS
10. TEXTURE_DETAIL
11. TIME_WEATHER

### Example Output:

```
IMG_5847.HEIC, iPhone 14 Pro, 2023 casual aesthetic.

A 26-year-old woman with shoulder-length blonde hair and subtle 
freckles, genuine smile while sitting at a cafÃ© table. Close-up 
shot from slightly above eye level, subject positioned using rule 
of thirds. Soft natural window light from the left creating gentle 
shadows on the right side of face. Warm, inviting atmosphere with 
slightly boosted saturation. Slight motion blur on hands, small 
lens flare visible in upper right corner.
```

**Details:** See [SEEDREAM.md](./docs/SEEDREAM.md)

---

## ğŸ”§ API Endpoints

### Content
```
POST   /api/content/generate         # Generate content
GET    /api/content/:id              # Get by ID
GET    /api/content/random/next      # Random for swipe
```

### Ratings
```
POST   /api/ratings                  # Create rating
GET    /api/ratings                  # List ratings
GET    /api/ratings/stats            # User statistics
```

### Insights
```
GET    /api/insights/user/:userId           # Get insights
POST   /api/insights/user/:userId/update    # Trigger update
GET    /api/insights/dashboard               # Dashboard data
```

---

## ğŸ“Š Performance Metrics

| Metric | Value |
|--------|-------|
| **Prompt Length** | 300-500 chars |
| **Parameters Used** | 5-7 / 11 |
| **Generation Time** | 35-40 sec |
| **OpenAI Tokens** | 600-800 |
| **Cost per Image** | ~$0.034 |
| **Realism Level** | HIGH âœ¨ |

---

## ğŸš€ Deployment

### Frontend (Vercel/GitHub Pages)
```bash
npm run build:frontend
# Deploy build/ directory
```

### Backend (Vercel/Railway)
```bash
# Set environment variables:
SUPABASE_URL=...
SUPABASE_ANON_KEY=...
OPENAI_API_KEY=...
REPLICATE_API_TOKEN=...

# Deploy backend/ directory
```

---

## ğŸ“š Documentation

- **README.md** (this file) - Overview & Quick Start
- **[ARCHITECTURE.md](./docs/ARCHITECTURE.md)** - ER Diagrams, Database Schema, Architecture
- **[SEEDREAM.md](./docs/SEEDREAM.md)** - Seedream 4.0 Integration Guide

---

## ğŸ› Troubleshooting

### Images expire after 24-48h
âœ… **Fixed!** Now using Supabase Storage for permanent URLs.

### No insights updating
- Check that you have 10+ ratings with comments
- Trigger manually: `POST /api/insights/user/:userId/update`

### OpenAI errors
- Check API key is valid
- Verify billing is active
- Check rate limits

---

## âœ… Project Status

**Version:** 1.2.0  
**Last Updated:** 2025-11-21  
**Status:** âœ… **PRODUCTION READY**

### Recent Updates:

**v1.2.0 (2025-11-21):**
- âœ… Seedream 4.0 Integration (11-parameter system)
- âœ… Enhanced prompt generation (300-500 chars)
- âœ… Era consistency (2010-2024)
- âœ… Authentic imperfections
- âœ… Parameter detection & validation
- âœ… Comprehensive documentation

**v1.1.0 (2025-10-27):**
- âœ… Permanent Storage (Supabase)
- âœ… URL Migration Tool
- âœ… Auto-download on generation

**v1.0.0:**
- âœ… Full frontend + backend
- âœ… User authentication
- âœ… AI Learning System
- âœ… Batch generation
- âœ… Admin Panel

---

## ğŸ¤ Contributing

Contributions welcome! 

1. Fork the repository
2. Create feature branch
3. Commit changes
4. Open Pull Request

---

## ğŸ“§ Contact

**Repository:** https://github.com/SerhiiDubei/Tin_UI_V2  
**Issues:** https://github.com/SerhiiDubei/Tin_UI_V2/issues

---

Made with â¤ï¸ by SerhiiDubei
