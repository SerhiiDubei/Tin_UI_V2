# üìä Tinder AI Platform - IR –î—ñ–∞–≥—Ä–∞–º–∞ (–°–ø—Ä–æ—â–µ–Ω–∞)

---

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

```
üë§ USER
  ‚Üì
üåê FRONTEND (React)
  ‚Üì HTTP API
‚öôÔ∏è BACKEND (Express)
  ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ DB  ‚îÇ AI   ‚îÇ OpenAI ‚îÇ Storage‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üóÑÔ∏è –ë–∞–∑–∞ –î–∞–Ω–∏—Ö (5 –¢–∞–±–ª–∏—Ü—å)

### 1. **users** (–Æ–∑–µ—Ä–∏)
```
id, username, email, password_hash, role
```

### 2. **prompt_templates** (–®–∞–±–ª–æ–Ω–∏)
```
id, name, category, base_prompt, system_instructions
insights_json ‚Üí {likes: [], dislikes: []}
```

### 3. **content** (–ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π –ö–æ–Ω—Ç–µ–Ω—Ç)
```
id, url, media_type
original_prompt ‚Üí enhanced_prompt ‚Üí final_prompt
template_id ‚Üí prompt_templates
user_id ‚Üí users
parent_id ‚Üí content (variations)
likes_count, dislikes_count, like_rate
```

### 4. **ratings** (–û—Ü—ñ–Ω–∫–∏)
```
id, content_id, user_id
direction: 'left' | 'right' | 'up' | 'down'
comment ‚Üê –í–ê–ñ–õ–ò–í–û –¥–ª—è insights!
```

### 5. **user_insights** (–í–ø–æ–¥–æ–±–∞–Ω–Ω—è –Æ–∑–µ—Ä–∞)
```
user_id
likes_json ‚Üí [{keyword, count}, ...]
dislikes_json ‚Üí [{keyword, count}, ...]
total_swipes, total_likes, total_dislikes
```

**–ó–≤'—è–∑–∫–∏:**
```
users ‚Üê‚îÄ content ‚Üê‚îÄ ratings
            ‚Üì
     user_insights
```

---

## üîÑ –ü—Ä–æ—Ü–µ—Å 1: –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –ö–æ–Ω—Ç–µ–Ω—Ç—É

```
1. User –≤–≤–æ–¥–∏—Ç—å –ø—Ä–æ–º–ø—Ç
   "–§–æ—Ç–æ –¥—ñ–≤—á–∏–Ω–∏ –≤ –∫—É–ø–∞–ª—å–Ω–∏–∫—É"
        ‚Üì
2. OpenAI: –í–∏–∑–Ω–∞—á–∞—î –∫–∞—Ç–µ–≥–æ—Ä—ñ—é
   ‚Üí category = "dating"
        ‚Üì
3. –í–∏—Ç—è–≥—É—î insights —é–∑–µ—Ä–∞
   ‚Üí likes: ["–ø–æ—Å–º—ñ—à–∫–∞", "–≤–æ–ª–æ—Å—è"]
   ‚Üí dislikes: ["—Ä–∏–∂–∏—Ö", "–ª—ñ–Ω–∑–∏"]
        ‚Üì
4. OpenAI: –ü–æ–∫—Ä–∞—â—É—î –ø—Ä–æ–º–ø—Ç
   Input: "–§–æ—Ç–æ –¥—ñ–≤—á–∏–Ω–∏..." + insights
   Output: "Young woman, brunette hair, 
            natural smile, beach sunset..."
        ‚Üì
5. Replicate: –ì–µ–Ω–µ—Ä—É—î —Ñ–æ—Ç–æ
   ‚Üí 30-60 —Å–µ–∫—É–Ω–¥
        ‚Üì
6. –ó–±–µ—Ä—ñ–≥–∞—î –≤ –ë–î (content)
   ‚úÖ –ì–æ—Ç–æ–≤–æ!
```

**–ß–∞—Å:** ~35 —Å–µ–∫—É–Ω–¥  
**–í–∞—Ä—Ç—ñ—Å—Ç—å:** ~$0.03

---

## üîÑ –ü—Ä–æ—Ü–µ—Å 2: –û—Ü—ñ–Ω–∫–∞ –ö–æ–Ω—Ç–µ–Ω—Ç—É

```
1. User —Å–≤–∞–π–ø–∞—î
   direction: 'right' (–ª–∞–π–∫)
   comment: "–≥–∞—Ä–Ω–∞ –ø–æ—Å–º—ñ—à–∫–∞" ‚Üê –í–ê–ñ–õ–ò–í–û!
        ‚Üì
2. –ó–±–µ—Ä—ñ–≥–∞—î rating –≤ –ë–î
        ‚Üì
3. –¢—Ä–∏–≥–µ—Ä: –û–Ω–æ–≤–ª—é—î —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É content
   likes_count++
   like_rate = –ø–µ—Ä–µ—Å—á–∏—Ç—É—î—Ç—å—Å—è
        ‚Üì
4. –ö–æ–∂–Ω—ñ 10 –æ—Ü—ñ–Ω–æ–∫:
   ‚Üí –û–Ω–æ–≤–ª—é—î user_insights
```

**–ß–∞—Å:** ~350ms

---

## üîÑ –ü—Ä–æ—Ü–µ—Å 3: –û–Ω–æ–≤–ª–µ–Ω–Ω—è Insights

```
–ö–æ–ª–∏: –ö–æ–∂–Ω—ñ 10 ratings

1. –ë–µ—Ä–µ –æ—Å—Ç–∞–Ω–Ω—ñ 50 ratings —é–∑–µ—Ä–∞
        ‚Üì
2. –í–∏—Ç—è–≥—É—î –¢–Ü–õ–¨–ö–ò –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ ‚ö†Ô∏è
   likes: ["–≥–∞—Ä–Ω–∞ –ø–æ—Å–º—ñ—à–∫–∞", "–≤–æ–ª–æ—Å—è"]
   dislikes: ["—Ä–∏–∂–∏—Ö", "–ª—ñ–Ω–∑–∏"]
        ‚Üì
3. OpenAI: –ê–Ω–∞–ª—ñ–∑—É—î –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ
   ‚Üí keywords –∑ —á–∞—Å—Ç–æ—Ç–æ—é
        ‚Üì
4. –ó–±–µ—Ä—ñ–≥–∞—î –≤ user_insights
   [{keyword: "–ø–æ—Å–º—ñ—à–∫–∞", count: 3}, ...]
        ‚Üì
5. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø—Ä–∏ –Ω–∞—Å—Ç—É–ø–Ω—ñ–π –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó
```

**–ß–∞—Å:** ~4 —Å–µ–∫—É–Ω–¥–∏

### ‚ö†Ô∏è –í–ê–ñ–õ–ò–í–û:
```
‚úÖ Rating –ó –∫–æ–º–µ–Ω—Ç–∞—Ä–µ–º ‚Üí –ê–Ω–∞–ª—ñ–∑—É—î—Ç—å—Å—è
‚ùå Rating –ë–ï–ó –∫–æ–º–µ–Ω—Ç–∞—Ä—è ‚Üí –Ü–ì–ù–û–†–£–Ñ–¢–¨–°–Ø

–ü—Ä–∏–∫–ª–∞–¥:
- 36 ratings (21 like, 15 dislike)
- 11 –∑ –∫–æ–º–µ–Ω—Ç–∞—Ä—è–º–∏
- Insights –±–∞–∑—É—î—Ç—å—Å—è –¢–Ü–õ–¨–ö–ò –Ω–∞ 11!
```

---

## üì° API Endpoints

### Content
```
POST /api/content/generate    - –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏
GET  /api/content/:id          - –û—Ç—Ä–∏–º–∞—Ç–∏
GET  /api/content/random/next  - –ù–∞—Å—Ç—É–ø–Ω–∏–π –¥–ª—è —Å–≤–∞–π–ø—É
```

### Ratings
```
POST /api/ratings             - –û—Ü—ñ–Ω–∏—Ç–∏
GET  /api/ratings/stats       - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```

### Insights
```
GET  /api/insights/user/:userId         - –û—Ç—Ä–∏–º–∞—Ç–∏ insights
POST /api/insights/user/:userId/update  - –û–Ω–æ–≤–∏—Ç–∏ –≤—Ä—É—á–Ω—É
```

### Auth
```
POST /api/auth/register       - –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
POST /api/auth/login          - –õ–æ–≥—ñ–Ω
```

---

## üß† AI –°–µ—Ä–≤—ñ—Å–∏

### OpenAI
```
1. detectCategory()      GPT-4o-mini  ~1.2s   ~$0.0001
2. enhancePrompt()       GPT-4o       ~3.6s   ~$0.003
3. analyzeComments()     GPT-4o-mini  ~2.0s   ~$0.0003
```

### Replicate
```
generateContent()  ByteDance Seedream-4  ~40s  ~$0.03
```

---

## ‚ö° –®–≤–∏–¥–∫–æ–¥—ñ—è

```
–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è (1 —Ñ–æ—Ç–æ):     35 —Å–µ–∫—É–Ω–¥
–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è (2 —Ñ–æ—Ç–æ):     39 —Å–µ–∫—É–Ω–¥
–û—Ü—ñ–Ω–∫–∞:                 0.35 —Å–µ–∫—É–Ω–¥
–û–Ω–æ–≤–ª–µ–Ω–Ω—è insights:     4.5 —Å–µ–∫—É–Ω–¥–∏
```

---

## üí∞ –í–∞—Ä—Ç—ñ—Å—Ç—å

```
–ó–∞ 1000 –≥–µ–Ω–µ—Ä–∞—Ü—ñ–π:
‚îú‚îÄ OpenAI:        $3.29
‚îú‚îÄ Replicate:    $30.00
‚îî‚îÄ Storage:       $0.30
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
–í–°–¨–û–ì–û:         ~$33.59  (~$0.034 –∑–∞ —à—Ç—É–∫—É)
```

---

## ‚ö†Ô∏è –ì–æ–ª–æ–≤–Ω–∞ –ü—Ä–æ–±–ª–µ–º–∞

### Insights –ü—Ä–∞—Ü—é—é—Ç—å –¢–Ü–õ–¨–ö–ò –∑ –ö–æ–º–µ–Ω—Ç–∞—Ä—è–º–∏

**–ü–æ—Ç–æ—á–Ω–∏–π –°—Ç–∞–Ω:**
```
ratings (direction, comment)
         ‚Üì
filter(r => r.comment) ‚Üê –¢—É—Ç –≤—Ç—Ä–∞—Ç–∞ –¥–∞–Ω–∏—Ö!
         ‚Üì
OpenAI analyzeComments()
```

**–í–∞—à –í–∏–ø–∞–¥–æ–∫:**
```
36 ratings –í–°–¨–û–ì–û
‚îú‚îÄ 11 –∑ –∫–æ–º–µ–Ω—Ç–∞—Ä—è–º–∏  ‚Üí ‚úÖ –ê–Ω–∞–ª—ñ–∑—É—é—Ç—å—Å—è
‚îî‚îÄ 25 –±–µ–∑ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ ‚Üí ‚ùå –Ü–≥–Ω–æ—Ä—É—é—Ç—å—Å—è (70%!)
```

### –†—ñ—à–µ–Ω–Ω—è:

**A) –Ø–∫ —î –∑–∞—Ä–∞–∑** ‚úÖ –ü—Ä–æ—Å—Ç–æ —ñ –¥–µ—à–µ–≤–æ
```
+ –Ø–∫—ñ—Å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑
+ –î–µ—à–µ–≤–æ
- –ü–æ—Ç—Ä—ñ–±–Ω—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ
```

**B) –î–æ–¥–∞—Ç–∏ Vision API** üÜï
```
+ –í—Ä–∞—Ö–æ–≤—É—î –í–°–Ü –æ—Ü—ñ–Ω–∫–∏
+ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
- –î–æ—Ä–æ–∂—á–µ ($0.01/—Ñ–æ—Ç–æ)
- –ü–æ–≤—ñ–ª—å–Ω—ñ—à–µ
```

**C) –ì—ñ–±—Ä–∏–¥** üéØ –†–µ–∫–æ–º–µ–Ω–¥—É—é
```
–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ
Fallback: Vision –¥–ª—è —Ç–æ–ø-10
```

---

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è

```
JWT Token
‚îú‚îÄ Register: bcrypt hash ‚Üí database
‚îú‚îÄ Login: compare hash ‚Üí JWT token
‚îî‚îÄ Protected routes: verify token
```

---

## üöÄ Deployment

```
Vercel
‚îú‚îÄ Frontend: Static React build
‚îú‚îÄ Backend: Serverless Functions
‚îú‚îÄ Database: Supabase PostgreSQL
‚îî‚îÄ Storage: Vercel Blob
```

---

## üìã –¢—Ä–∏–≥–µ—Ä–∏ –ë–î

```sql
1. AFTER INSERT rating
   ‚Üí UPDATE content stats (auto)

2. BEFORE UPDATE
   ‚Üí SET updated_at = NOW() (auto)
```

---

## üéØ –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

```
Frontend:  React, Axios, CSS
Backend:   Express, Node.js
Database:  PostgreSQL (Supabase)
AI:        OpenAI, Replicate
Storage:   Vercel Blob
Auth:      JWT, bcrypt
Deploy:    Vercel
```

---

## üìù –ü—ñ–¥—Å—É–º–æ–∫

### ‚úÖ –ü—Ä–∞—Ü—é—î –î–æ–±—Ä–µ:
- OpenAI insights –≤–ø–ª–∏–≤–∞—é—Ç—å –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- Database —Ç—Ä–∏–≥–µ—Ä–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑—É—é—Ç—å –≤—Å–µ
- Batch generation —Å—Ç–≤–æ—Ä—é—î —Ä—ñ–∑–Ω—ñ –≤–∞—Ä—ñ–∞—Ü—ñ—ó
- Logging –ø–æ–∫–∞–∑—É—î –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å

### ‚ö†Ô∏è –ü–æ—Ç—Ä–µ–±—É—î –£–≤–∞–≥–∏:
- Insights —Ç—ñ–ª—å–∫–∏ –∑ –∫–æ–º–µ–Ω—Ç–∞—Ä—è–º–∏ (70% –¥–∞–Ω–∏—Ö –≤—Ç—Ä–∞—á–∞—î—Ç—å—Å—è)
- –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–∂–Ω—ñ 10 ratings (–Ω–µ real-time)
- –ù–µ–º–∞—î Vision API (–Ω–µ –±–∞—á–∏—Ç—å —â–æ —Å–∞–º–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è)

### üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:
1. –î–æ–¥–∞—Ç–∏ Vision API –¥–ª—è –Ω–µ–∫–æ–º–µ–Ω—Ç–æ–≤–∞–Ω–∏—Ö ratings
2. –ó—Ä–æ–±–∏—Ç–∏ real-time insights
3. –î–æ–¥–∞—Ç–∏ dashboard –∑ –∞–Ω–∞–ª—ñ—Ç–∏–∫–æ—é

---

**–í–µ—Ä—Å—ñ—è:** 1.0  
**–î–∞—Ç–∞:** 2025-11-21  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–∞—Ü—é—î (–∑ –æ–±–º–µ–∂–µ–Ω–Ω—è–º–∏)

